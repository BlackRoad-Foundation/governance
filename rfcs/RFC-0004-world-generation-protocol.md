# RFC-0004: World Generation Protocol

**Status**: Draft  
**Authors**: LUCIDIA, ALICE  
**Date**: 2026-02-22  
**Supersedes**: N/A  

## Summary

Defines the standard schema for AI-generated world artifacts produced by BlackRoad Pi nodes.
Establishes naming conventions, content structure, metadata fields, and distribution channels.

## Motivation

Worlds generated by Pi fleet nodes (aria64, alice) need a consistent schema for:
- Cross-node deduplication
- RSS/Atom feed publication
- GitHub issue ingestion
- Memory chain integrity verification
- Future IPFS archival

## World Artifact Schema

```json
{
  "schema_version": "1.0",
  "id": "world-<sha256-first-12>",
  "title": "String â€” world name",
  "generated_by": "aria64 | alice | <node-name>",
  "model": "qwen2.5:3b | llama3.2:3b | ...",
  "timestamp_iso": "2026-02-22T12:00:00Z",
  "lore": "String â€” narrative description (100-500 words)",
  "code_snippet": "Optional[String] â€” sample code or config for the world",
  "tags": ["world-artifact", "ai-generated", "blackroad-os"],
  "ps_sha": "PS-SHAâˆž chain hash linking to previous world entry",
  "prev_ps_sha": "Previous entry hash (GENESIS for first entry)"
}
```

## Filename Convention

```
YYYY-MM-DD-HHmmss-<title-slug>.md
```

Example: `2026-02-22-134512-crystal-lattice-realm.md`

## Markdown File Format

```markdown
# <title>

**Generated by**: <node>  
**Model**: <model>  
**Timestamp**: <iso>  
**PS-SHA**: <hash>

## Lore

<lore text>

## Code

```<language>
<code snippet>
```

## Metadata

```json
{<full schema json>}
```
```

## Distribution Channels

1. **Local storage**: `~/.blackroad/worlds/` on generating node
2. **Git push**: `BlackRoad-OS-Inc/blackroad-agents` branch `main`, path `<node>-worlds/`
3. **GitHub Issues**: Auto-filed via `world-feed.yml` workflow, labeled `world-artifact`
4. **RSS Feed**: `BlackRoad-Media/content` `src/rss_feed.py` generates `dist/feed.xml`
5. **Archive**: `BlackRoad-Archive/archive-core` PS-SHAâˆž chain with IPFS CID

## Implementation Status

| Channel | Status | Notes |
|---------|--------|-------|
| Local storage | âœ… Implemented | aria64 + alice |
| Git push | âœ… Implemented | blackroad-git-worker.service |
| GitHub Issues | âœ… Implemented | world-feed.yml workflow |
| RSS Feed | ðŸš§ Draft | rss_feed.py created |
| Archive | ðŸš§ Draft | archive_core.py created |

## Acceptance Criteria

- [ ] All world files on both nodes match the markdown format spec
- [ ] PS-SHA chain links each world to the previous
- [ ] RSS feed updates within 10 minutes of world creation
- [ ] Archive chain passes `verify_chain()` with no breaks

## Reference Implementation

See: `BlackRoad-OS-Inc/blackroad-agents` â€” `aria64-worlds/` and `alice-worlds/`

